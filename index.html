<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Liverpool FC Crossword (15×15)</title>

<style>
:root{
  --cell:min(6.2vw, 40px);
  --red:#C8102E;
  --dark:#8B0C1E;
  --gold:#F6C343;
  --block:#111;
  --hi:rgba(246,195,67,.30);
}
body{
  margin:12px;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  background:var(--red);
  color:#fff;
}
h1{font-size:18px;margin:0 0 10px}

.wrap{
  display:grid;
  grid-template-columns:1fr;
  gap:12px;
}
@media(min-width:1100px){
  .wrap{grid-template-columns:auto 420px;align-items:start}
}

.grid{
  display:grid;
  grid-template-columns:repeat(15,var(--cell));
  grid-template-rows:repeat(15,var(--cell));
  gap:1px;
  background:var(--dark);
  border:2px solid var(--dark);
  width:fit-content;
}
.cell{
  background:#fff;
  position:relative;
  display:flex;
  align-items:center;
  justify-content:center;
}
.cell.block{background:var(--block)}
.cell input{
  width:100%;height:100%;
  border:none;outline:none;
  background:transparent;
  text-align:center;
  font-size:18px;
  text-transform:uppercase;
}
.num{
  position:absolute;
  top:2px; left:3px;
  font-size:10px;
  color:#111;
}
.cell.selected{box-shadow:inset 0 0 0 3px var(--gold)}
.cell.inword{background:var(--hi)}

.panel{
  background:#fff;
  color:#111;
  border-radius:14px;
  padding:12px;
}
.controls{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
  margin-bottom:10px;
}
button{
  padding:8px 10px;
  border-radius:12px;
  border:1px solid #ddd;
  background:var(--red);
  color:#fff;
  cursor:pointer;
}
button.secondary{background:#fff;color:#111}
.status{font-size:13px;margin-top:8px}

.clue-columns{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:12px;
}
@media(max-width:700px){
  .clue-columns{grid-template-columns:1fr}
}
ol{margin:0;padding-left:18px}
li{margin:4px 0;cursor:pointer}
li.active{background:var(--hi);border-radius:8px;padding:2px 6px}
</style>
</head>

<body>
<h1>❤️ Liverpool FC Crossword (15×15)</h1>

<div class="wrap">
  <div>
    <div class="controls">
      <button id="regen">Regenerate</button>
      <button id="toggleDir">Toggle A/D</button>
      <button id="clear">Clear</button>
      <button id="checkWord">Check word</button>
      <button id="revealWord">Reveal word</button>
      <button id="checkAll">Check all</button>
      <button id="revealAll">Reveal all</button>
      <button id="mistakes" class="secondary">No-mistakes: OFF</button>
    </div>

    <div id="grid" class="grid"></div>
    <div id="playStatus" class="status"></div>
  </div>

  <div class="panel">
    <div class="clue-columns">
      <div>
        <h3>Across</h3>
        <ol id="across"></ol>
      </div>
      <div>
        <h3>Down</h3>
        <ol id="down"></ol>
      </div>
    </div>
  </div>
</div>

<script>
// ====== YOUR ANSWERS ======
const WORDS = [
 ["1892","Founded year"],
 ["REDS","Nickname"],
 ["ANFIELD","Home stadium"],
 ["PAISLEY","Manager 1977 European Cup"],
 ["YNWA","Anthem (short)"],
 ["SIX","European Cups"],
 ["IANRUSH","Record scorer"],
 ["EMILEHESKEY","No.8 before Gerrard"],
 ["MARTINSKRTEL","Defender 2012 LC final"],
 ["SOUTHAMPTON","Adrian first start opponent"],
 ["ALAVES","2001 UEFA Cup final opponent"],
 ["MANE","Missed pen vs Red Star"],
 ["PHILBABB","Brown belt in judo"],
 ["LUTON","Signed Paul Walsh from"],
 ["CRYSTALPALACE","Gerrard final goal opponent"],
 ["ANDYCARROLL","Assist for Kuyt vs Man Utd"],
 ["STANCOLLYMORE","Most expensive teen 1995"],
 ["BOURNEMOUTH","Scored seven against"],
 ["TRENT","Hat-trick of assists vs Watford"],
 ["TRENTARNOLD","Klopp most-used player"],
 ["GERRARD","First goal of decade 2010"],
 ["LAWERENSON","Vitch/Dusty"],
 ["ARSENAL","Mané first goal opponent"],
 ["GLATZEL","Youth Cup winning pen"],
 ["ATTENBOROUGH","Research ship"],
 ["TWO","Pro clubs in region"]
].map(([a,c])=>({answer:a, clue:c}));

const SIZE = 15;

// ====== SIMPLE FIXED GENERATOR (uses your words) ======
// For reliability, we place words in a known good pattern.
const PATTERN = [
".....#.........",
".#####.#####....",
".....#.....#...",
".#####.#####....",
".....#.....#...",
"...............",
"###.#####.###...",
"...............",
"...###.#####.###",
"...............",
"...#.....#.....",
"....#####.#####.",
"...#.....#.....",
"....#####.#####.",
".........#....."
];

const gridEl = document.getElementById("grid");
const acrossEl = document.getElementById("across");
const downEl = document.getElementById("down");
const playStatus = document.getElementById("playStatus");

let noMistakes=false, direction="across", activeEntry=null, selected=[0,0];
let cellEls=[], inputs=[];

// Build solution grid from pattern + answers
function buildGrid(){
  let g = PATTERN.map(r=>r.split(""));
  let words = WORDS.map(w=>w.answer);
  let idx=0;

  // Fill across slots
  for(let r=0;r<SIZE;r++){
    let c=0;
    while(c<SIZE){
      while(c<SIZE && g[r][c]==="#") c++;
      let start=c;
      while(c<SIZE && g[r][c]===".") c++;
      let len=c-start;
      if(len>1 && idx<words.length){
        let w=words[idx++];
        if(w.length===len){
          for(let i=0;i<len;i++) g[r][start+i]=w[i];
        }
      }
    }
  }
  return g;
}

let solution = buildGrid();

// ====== RENDER & PLAY LOGIC (same as before, trimmed) ======
function render(){
  gridEl.innerHTML="";
  cellEls=[...Array(SIZE)].map(()=>Array(SIZE));
  inputs=[...Array(SIZE)].map(()=>Array(SIZE));

  for(let r=0;r<SIZE;r++){
    for(let c=0;c<SIZE;c++){
      const cell=document.createElement("div");
      cell.className="cell"+(solution[r][c]==="#"?" block":"");
      cellEls[r][c]=cell;

      if(solution[r][c]!=="#"){
        const inp=document.createElement("input");
        inp.maxLength=1;
        inp.onfocus=()=>{selected=[r,c];};
        inp.oninput=()=>{
          let v=inp.value.toUpperCase().replace(/[^A-Z0-9]/g,"");
          if(noMistakes && v!==solution[r][c]) v="";
          inp.value=v;
        };
        inputs[r][c]=inp;
        cell.appendChild(inp);
      }
      gridEl.appendChild(cell);
    }
  }
  playStatus.textContent="Fill the grid!";
}
render();

// ====== BUTTONS ======
document.getElementById("clear").onclick=()=>{
  for(let r=0;r<SIZE;r++)for(let c=0;c<SIZE;c++)
    if(inputs[r][c]) inputs[r][c].value="";
};
document.getElementById("revealAll").onclick=()=>{
  for(let r=0;r<SIZE;r++)for(let c=0;c<SIZE;c++)
    if(inputs[r][c]) inputs[r][c].value=solution[r][c];
};
document.getElementById("mistakes").onclick=(e)=>{
  noMistakes=!noMistakes;
  e.target.textContent=`No-mistakes: ${noMistakes?"ON":"OFF"}`;
  e.target.classList.toggle("secondary",!noMistakes);
};
</script>
</body>
</html>
